Shell可以看作是一个命令解释器，为我们提供了交互式的文本控制台界面。我们可以通过终端控制台来输入命令，由Shell进行解释并最终交给内核执行。

### 帮助命令

#### man

ls -l 表示一行详细信息

ls -l /bin/ | grep sh  查找bin目录下sh文件

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753621946394-dfda1ace-a9e4-4ec0-a55f-be020c897c45.png)

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753622085819-8c73b042-1f49-4595-a9bc-af4d431839a5.png)

#### help

help 获得Shell内置命令的帮助信息

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753622276056-abceb92a-9298-4f1b-90e7-52d46ec69c85.png)

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753622377840-4c3c301e-9b0a-4ef2-b9de-2ac309b58ee0.png)

**type可以查看属于外部还是内置命令。**

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753622431688-60b3e090-5b10-4151-8556-392d2ffafefa.png)

#### 常用快捷键

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753622506976-95b74274-0df8-4c58-a6dd-6ba7c7e95139.png)

### 文件目录类

| pwd                 | (print working directory )                              | 打印当前工作目录的绝对路径                               |                                |
| ------------------- | ------------------------------------------------------- | ------------------------------------------- | ------------------------------ |
| ls                  | (list)                                                  | 列出目录内容                                      |                                |
| cd                  | (Change Directory)                                      | 切换路径                                        |                                |
|                     | cd -                                                    | 回到上一次所在目录                                   |                                |
|                     | cd ~                                                    | 回到自己的家目录，亦即是 /root 这个目录                     |                                |
| mkdir               | (Make directory)                                        | 建立目录                                        |                                |
|                     | -p                                                      | 创建多层目录<br/>mkdir -p xiyou/qujing/meihouwang |                                |
| rmdir               | (Remove directory)                                      |                                             | 删除目录                           |
| touch               | touch xiyou/qujing/sunwukong.txt                        |                                             | 创建空文件                          |
| cp [选项] source dest | cp xiyou/suwukong.txt  xiyou/mingjie/<br/>-r  递归复制整个文件夹 |                                             | 复制文件或目录                        |
| rm [选项] deleteFile  | -r                                                      | 递归删除目录所有内容                                  |                                |
|                     | -f                                                      | 强制删除,不提示用户进行确认                              |                                |
|                     | -v                                                      | 显示指令的详细执行过程                                 |                                |
| mv                  | mv oldNameFile newNameFile                              |                                             | 重命名                            |
|                     | mv /temp/movefile /targetFolder                         |                                             | 移动文件或目录                        |
| cat                 | cat [选项] 文件                                             | 查看文件内容,从第一行开始显示                             | 查看文件内容<br/>一般查看比较小的文件,一屏幕能显示全的 |
|                     | -n                                                      | 显示所有行的行号,包括空行                               |                                |
| more  <br/>文件分屏查看器  | 空白键 (space)                                             | 代表向下翻一页                                     |                                |
|                     | Enter                                                   | 代表向下翻『一行』                                   |                                |
|                     | q                                                       | 代表立刻离开 more ，不再显示该文件内容。                     |                                |
|                     | Ctrl+F                                                  | 向下滚动一屏                                      |                                |
|                     | Ctrl+B                                                  | 返回上一屏                                       |                                |
|                     | =                                                       | 输出当前行的行号                                    |                                |
|                     | :f                                                      | 输出文件名和当前行的行号                                |                                |
| less<br/>分屏显示文件内容   | 空白键                                                     | 向下翻动一页                                      |                                |
|                     | [pagedown]                                              | 向下翻动一页                                      |                                |
|                     | [pageup]                                                | 向上翻动一页                                      |                                |
|                     | /字串                                                     | 向下搜寻『字串』的功能；n：向下查找；N：向上查找                   |                                |
|                     | ?字串                                                     | 向上搜寻『字串』的功能；n：向上查找；N：向下查找                   |                                |
|                     | q                                                       | 离开 less 这个程序                                |                                |
| head                | -n <行数>                                                 | 指定显示头部内容的行数                                 | 显示文件头部内容                       |
| tail<br/>输出文件尾部内容   | tail 文件                                                 | 查看文件后10行内容                                  |                                |
|                     | tail -n 5 文件                                            | 查看文件后5行内容，5可以是任意行数                          |                                |
|                     | tail -f 文                                               | 实时追踪该文档的所有更新                                |                                |
| echo<br/>打印信息       | -e                                                      | 支持反斜线控制的字符转换                                |                                |
|                     | 控制字符                                                    | 作用                                          |                                |
|                     | \\                                                      | 输出\本身                                       |                                |
|                     | \n                                                      | 换行符                                         |                                |
|                     | \t                                                      | 制表符，也就是Tab键                                 |                                |
| ><br/>覆盖            | >文件                                                     | 列表的内容写入文件a.txt中（**覆盖写**）                    |                                |
| >><br/>追加           | >>文件                                                    | 列表的内容**追加**到文件aa.txt的末尾                     |                                |
|                     | cat 文件1 > 文件2                                           | 将文件1的内容覆盖到文件2                               |                                |
| ln<br/>创建链接和软连接     | 链接表示目标资源的另外的访问方式,表示一种路径                                 |                                             |                                |
|                     | 软链接也称为符号链接，类似于windows里的快捷方式，有自己的数据块，主要存放了链接其他文件的路径。     |                                             |                                |
|                     | ln [-s] [原文件或目录] [链接名]                                  |                                             | 给原文件创建一个链接                     |
|                     | -s                                                      |                                             | 创建的链接为 软连接                     |
| history             |                                                         |                                             | 查看历史命令                         |

### 时间日期类

| date                      |     | 显示当前时间   |
| ------------------------- | --- | -------- |
| date +%Y                  |     | 显示当前年份   |
| date +%m                  |     | 显示当前月份   |
| date +%d                  |     | 显示当前是哪一天 |
| date "+%Y-%m-%d %H:%M:%S" |     | 显示年月日时分秒 |
| date -d '1 days ago'      |     | 显示前一天时间  |
| date -d '-1 days ago'     |     | 显示明天时间   |
| date -s 字符串时间             |     | 设置系统时间   |

### 用户权限类

| useradd         | useradd 用户名        | 添加新用户                     |
| --------------- | ------------------ | ------------------------- |
|                 | useradd -g 组名 用户名  | 添加新用户到某个组                 |
| passwd          | passwd 用户名         | 设置用户密码                    |
| id              | id 用户名             | 查看用户是否存在                  |
| cat /etc/passwd | 查看创建的所有用户          |                           |
| su              | (switch user )     | 切换用户                      |
|                 | su 用户名称            | 切换用户，只能获得用户的执行权限，不能获得环境变量 |
|                 | su - 用户名称          | 切换到用户并获得该用户的环境变量及执行权限     |
|                 | exit               | 回退到上一个用户                  |
| userdel         | userdel 用户名        | 删除用户但保存用户主目录              |
|                 | userdel -r 用户名     | 用户和用户主目录，都删除              |
| who             | whoami             | 显示自身用户名称                  |
|                 | who am i           | 显示登录用户的用户名                |
| sudo            |                    | 设置普通用户具有root权限            |
| groupadd        |                    | 新增组                       |
| groupdel        |                    | 删除组                       |
| cat /etc/group  |                    | 查看创建了那些组                  |
| usermod         | usermod -g 用户组 用户名 | 修改用户                      |

### 文件权限类

#### 文件类型和权限的表示

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753711019583-d1847039-36e4-4948-8056-648c3aa24aaf.png)

（1）0首位表示类型 在Linux中第一个字符代表这个文件是目录、文件或链接文件等等

| 符号  | 对应文件类型           |
| --- | ---------------- |
| -   | 代表文件             |
| d   | d 代表目录           |
| l   | 链接文档(link file)； |

（2）第1-3位确定属主（该文件的所有者）拥有该文件的权限。U →User

（3）第4-6位确定属组（所有者的同组用户）拥有该文件的权限，G→Group

（4）第7-9位确定其他用户拥有该文件的权限 , O →Other

#### rwx作用到目录和文件的不同含义

作用到文件

[ r ]代表可读(read): 可以读取，查看

[ w ]代表可写(write): 可以修改，但是不能删除该文件，对该文件所在的目录有写权限，才能删除.

[ x ]代表可执行(execute):可以被系统执行

作用到目录

[ r ]代表可读(read): 可以读取，ls查看目录内容

[ w ]代表可写(write): 可以修改，目录内创建+删除+重命名目录

[ x ]代表可执行(execute):可以进入该目录

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753711204203-06a508fa-8226-4028-b55a-98fa5e862679.png)

如果查看到是文件：链接数指的是硬链接个数 

如果查看的是文件夹：链接数指的是子文件夹个数

**chmod    改变文件权限**

u:所有者 g:所有组 o:其他人 a:所有人(u、g、o的总和)

r=4 w=2 x=1  
rwx=4+2+1=7

**chown    改变所有者**

chown [选项] [最终用户] [文件或目录] （功能描述：改变文件或者目录的所有者）

-R    递归操作

**chgrp    改变所属组**

chgrp [最终用户组] [文件或目录] （功能描述：改变文件或者目录的所属组）

### 搜索查找类

**find        查找文件或者目录**

find [搜索范围] [选项]

| 选项          | 功能               |     |     |
| ----------- | ---------------- | --- | --- |
| -name<查询方式> | 按照指定的文件名查找模式查找文件 |     |     |
| -user<用户名>  | 查找属于指定用户名所有文件    |     |     |
| -size<文件大小> | 按照指定的文件大小查找文件    |     |     |

根据名称查找/目录下的filename.txt文件

[root@centos100 ~]# find xiyou/ -name “*.txt”

查找/opt目录下，用户名称为-user的文件

- [root@centos100 ~]# find opt/ -user alfie

在/home目录下查找大于200m的文件（+n 大于 -n小于 n等于）

[root@centos100 ~]find /home -size +204800

**grep        过滤查找及“|”管道符**

管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理 

grep 选项 查找内容 源文件 

-n    显示匹配及行号

### 压缩解压类

**gzip/gunzip     压缩解压**

gzip 文件       （功能描述：压缩文件，只能将文件压缩为*.gz文件）

gunzip 文件.gz  （功能描述：解压缩文件命令）

（1）只能压缩文件,不能压缩目录

（2）不保留原来的文件

**zip/unzip    压缩解压**

zip [选项] XXX.zip 将要压缩的内容     （功能描述：压缩文件和目录的命令）

unzip [选项] XXX.zip                      （功能描述：解压缩文件）

| zip选项   | 功能           |
| ------- | ------------ |
| -r      | 压缩目录         |
| unzip选项 | 功能           |
| -d<目录>  | 指定解压后文件的存放目录 |

zip 压缩命令在window/linux都通用，可以压缩目录且保留源文件。

**tar打包**

tar [选项] XXX.tar.gz 将要打包进去的内容  （功能描述：打包目录，压缩后的文件格式.tar.gz）

| 选项  | 功能         |
| --- | ---------- |
| -z  | 打包同时压缩     |
| -c  | 产生.tar打包文件 |
| -v  | 显示详细信息     |
| -f  | 指定压缩后的文件名  |
| -x  | 解包.tar文件   |

```shell
root@centos100 opt]# tar -zcvf houma.tar.gz houge.txt bailongma.txt 
houge.txt
bailongma.txt
[root@centos100 opt]# ls
houma.tar.gz houge.txt bailongma.txt 
```

### 磁盘管理类

df     (disk free 空余硬盘)        查看磁盘空间使用情况

-h   以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示

```shell
[root@centos100 ~]# df -h
Filesystem   Size Used Avail Use% Mounted on
/dev/sda2    15G 3.5G  11G 26% /
tmpfs      939M 224K 939M  1% /dev/shm
```

fdisk    查看分区    (该命令必须在root用户下才能使用)

fdisk     -l         （功能描述：查看磁盘分区详情）

-l        显示所有硬盘的分区列表

Device：分区序列

Boot：引导

Start：从X磁柱开始

End：到Y磁柱结束

Blocks：容量

Id：分区类型ID

System：分区类型

```shell
[root@centos100 /]# fdisk -l
Disk /dev/sda: 21.5 GB, 21474836480 bytes
255 heads, 63 sectors/track, 2610 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x0005e654

Device Boot   Start     End   Blocks  Id System
/dev/sda1  *      1     26   204800  83 Linux
Partition 1 does not end on cylinder boundary.
/dev/sda2       26    1332  10485760  83 Linux
/dev/sda3      1332    1593   2097152  82 Linux swap / Solaris
```

mount/umount    挂载/卸载

对于Linux用户来讲，不论有几个分区，分别分给哪一个目录使用，它总归就是一个根目录、一个独立且唯一的文件结构。

Linux中每个分区都是用来组成整个文件系统的一部分，它在用一种叫做“挂载”的处理方法，它整个文件系统中包含了一整套的文件和目录，并将一个分区和一个目录联系起来，要载入的那个分区将使它的存储空间在这个目录下获得。

mount [-t vfstype] [-o options] device dir （功能描述：挂载设备）

umount 设备文件名或挂载点         （功能描述：卸载设备）

### 进程管理类

ps        (process status 进程状态)        查看当前系统进程状态

ps -aux | grep xxx     （功能描述：查看系统中所有进程）

ps -ef  | grep xxx     （功能描述：可以查看子父进程之间的关系）

| 选项  | 功能          |
| --- | ----------- |
| -a  | 选择所有进程      |
| -u  | 显示所有用户的所有进程 |
| -x  | 显示没有终端的进程   |

ps -aux显示信息说明

USER：该进程是由哪个用户产生的

PID：进程的ID号

%CPU：该进程占用CPU资源的百分比，占用越高，进程越耗费资源；

%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源；

VSZ：该进程占用虚拟内存的大小，单位KB；

RSS：该进程占用实际物理内存的大小，单位KB；

TTY：该进程是在哪个终端中运行的。其中tty1-tty7代表本地控制台终端，tty1-tty6是本地的字符界面终端，    tty7是图形终端。pts/0-255代表虚拟终端。

STAT：进程状态。常见的状态有：R：运行、S：睡眠、T：停止状态、s：包含子进程、+：位于后台

START：该进程的启动时间

TIME：该进程占用CPU的运算时间，注意不是系统时间

COMMAND：产生此进程的命令名

ps -ef显示信息说明

UID：用户ID 

PID：进程ID 

PPID：父进程ID 

C：CPU用于计算执行优先级的因子。数值越大，表明进程是CPU密集型运算，执行优先级会降低；数值越小，表明进程是I/O密集型运算，执行优先级会提高 

STIME：进程启动的时间 

TTY：完整的终端名称 

TIME：CPU时间 

CMD：启动进程所用的命令和参数

如果想查看进程的**CPU**占用率和内存占用率，可以使用aux;

如果想查看**进程的父进程ID**可以使用ef;

kill        终止进程

 kill         [选项] 进程号     （功能描述：通过进程号杀死进程）

 killall     进程名称       （功能描述：通过进程名称杀死进程，也支持通配符） 

| 选项  | 功能         |
| --- | ---------- |
| -9  | 表示强迫进程立即停止 |

### 系统定时任务

crond        服务管理

[root@centos100 ~]# systemctl restart crond

crontab    定时任务设置    

crontab [选项]

| 选项  | 功能                 |
| --- | ------------------ |
| -e  | 编辑crontab定时任务      |
| -l  | 查询crontab任务        |
| -f  | 删除当前用户所有的crontab任务 |

（1）进入crontab编辑界面。会打开vim编辑你的工作,通过 "* " 定义任务周期。

[root@centos100 ~]# crontab -e 

| 项目      | 选项         | 范围             |
| ------- | ---------- | -------------- |
| 第一个“ *” | 一小时当中的第几分钟 | 0-59           |
| 第二个“ *” | 一天当中的第几小时  | 0-23           |
| 第三个“ *” | 一个月当中的第几天  | 1-31           |
| 第四个“ *” | 一年当中的第几月   | 1-12           |
| 第五个“ *” | 一周当中的星期几   | 0-7（0和7都代表星期日） |

（2）每个星号上可以使用的特殊符号

| 特殊符号 | 含义                                                             |
| ---- | -------------------------------------------------------------- |
| *    | 代表任何时间。比如第一个“ *”就代表一小时中每分钟都执行一次的意思。                            |
| ,    | 代表不连续的时间。比如“0 8,12,16 * * * 命令”，就代表在每天的8点0分，12点0分，16点0分都执行一次命令 |
| -    | 代表连续的时间范围。比如“0 5 *   * 1-6命令”，代表在周一到周六的凌晨5点0分执行命令              |
| */n  | 代表每隔多久执行一次。比如“ */10       命令”，代表每隔10分钟就执行一遍命令                  |

（3）特定时间执行命令

| 时间                    | 含义                       |
| --------------------- | ------------------------ |
| 45 22 * * * 命令        | 在22点45分执行命令              |
| 0 17 * * 1 命令         | 每周1 的17点0分执行命令           |
| 0 5 1,15 * * 命令       | 每月1号和15号的凌晨5点0分执行命令      |
| 40 4 * * 1-5 命令       | 每周一到周五的凌晨4点40分执行命令       |
| */10 4 * * * 命令       | 每天的凌晨4点，每隔10分钟执行一次命令     |
| 0 0 1,15 * 1 命令(错误案例) | 每月1号和15号，每周1的0点0分都会执行命令。 |

注意：星期几和几号最好不要同时出现，因为他们定义的都是天。非常容易让管理员混乱。

实参案例

+ 每隔1分钟，向/root/bailongma.txt文件中添加一一些内容

```shell
*/1 * * * * /bin/echo ”11” >> /root/bailongma.txt
```

### 克隆虚拟机

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753712399863-b05dda79-4cd0-4efa-ab26-6683de9c4000.png)

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753712410191-8e50abbe-698d-4665-8c30-2df961701588.png)

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753712442534-50f7e994-6aba-4192-9fff-76e77d4545e6.png)

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753712450239-8227ffe4-60f1-4990-a6ca-ffa4d3aa4102.png)

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753712459279-1d22f41e-f81c-405e-8c97-8c115894dd9c.png)

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753712484792-55683914-6d3c-4a6c-9a7b-e4237b706bdc.png)

ip等配置文件都一样，需要更改

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753712518852-3abf2802-82a3-4bd5-8ba7-87b5f46c4b3d.png)

![](https://cdn.nlark.com/yuque/0/2025/png/47441741/1753712559654-09e6523c-dac4-404a-88c0-e58eb6f38a5e.png)
